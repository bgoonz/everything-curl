<a href="../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>





<a href="../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>





<a href="../index.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Introduction</span></a>

<a href="../how-to-read.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to read this book</span></a>





<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to HTTP with curl</span>

<a href="basics.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca--navButtonOpened-6a88552e"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Protocol basics</span></a>

<a href="response.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Responses</span></a>

<a href="auth.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Authentication</span></a>

<a href="ranges.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Ranges</span></a>

<a href="versions.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP versions</span></a>

<a href="https.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTPS</span></a>

<a href="post.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP POST</span></a>

<a href="multipart.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Multipart formposts</span></a>

<a href="postvspost.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">-d vs -F</span></a>

<a href="redirects.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Redirects</span></a>

<a href="requests.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Modify the HTTP request</span></a>

<a href="put.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP PUT</span></a>

<a href="cookies.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Cookies</span></a>

<a href="http2.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP/2</span></a>

<a href="altsvc.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Alternative Services</span></a>

<a href="http3.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP/3</span></a>

<a href="cheatsheet.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP cheat sheet</span></a>

<a href="browserlike.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Scripting browser-like tasks</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl basics</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP with libcurl</span>

<a href="../bindings.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Bindings</span></a>

<a href="../internals.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl internals</span></a>

<a href="../bookindex.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f"></span></a>





# <span class="text-4505230f--DisplayH900-bfb998fa--textContentFamily-49a318e1">Protocol basics</span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="8c84c4aba5c64036a18c816f08b8e1fe"><span data-offset-key="8c84c4aba5c64036a18c816f08b8e1fe:0">HTTP protocol basics</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="6c0bc23a1b594188a6ddf82ad941a393"><span data-offset-key="6c0bc23a1b594188a6ddf82ad941a393:0">(This assumes you have read the </span></span><a href="../protocols.html" class="link-a079aa82--primary-53a25e66--link-faf6c434"><span data-key="6f2093ac30b3449e8b4e7a4e7819e71f"><span data-offset-key="6f2093ac30b3449e8b4e7a4e7819e71f:0">Network and protocols</span></span></a><span data-key="37826f5ccabe446aab9cccf040086ff0"><span data-offset-key="37826f5ccabe446aab9cccf040086ff0:0"> section or are otherwise already familiar with protocols.)</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="da123fd8753a4c4b95eb7cd0bebe3cd3"><span data-offset-key="da123fd8753a4c4b95eb7cd0bebe3cd3:0">HTTP is a protocol that is easy to learn the basics of. A client connects to a server—and it is always the client that takes the initiative—sends a request and receives a response. Both the request and the response consist of headers and a body. There can be little or a lot of information going in both directions.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="2b69656de6e5432b9034d806360c95b2"><span data-offset-key="2b69656de6e5432b9034d806360c95b2:0">An HTTP request sent by a client starts with a request line, followed by headers and then optionally a body. The most common HTTP request is probably the GET request which asks the server to return a specific resource, and this request does not contain a body.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="b487d782b5e14f62bf062d09a3dc2133"><span data-offset-key="b487d782b5e14f62bf062d09a3dc2133:0">When a client connects to 'example.com' and asks for the '/' resource, it sends a GET without a request body:</span></span></span>

    GET / HTTP/1.1User-agent: curl/2000Host: example.com

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="371f137681604b9dbad3344460dc8128"><span data-offset-key="371f137681604b9dbad3344460dc8128:0">…the server could respond with something like below, with response headers and a response body ('hello'). The first line in the response also contains the response code and the specific version the server supports:</span></span></span>

    HTTP/1.1 200 OKServer: example-server/1.1Content-Length: 5Content-Type: plain/text​hello

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="a346604907734c0b8fdca6510a58bf65"><span data-offset-key="a346604907734c0b8fdca6510a58bf65:0">If the client would instead send a request with a small request body ('hello'), it could look like this:</span></span></span>

    POST / HTTP/1.1Host: example.comUser-agent: curl/2000Content-Length: 5​hello

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="3f73fd01bb3a4c0e89840741b96dbd1d"><span data-offset-key="3f73fd01bb3a4c0e89840741b96dbd1d:0">A server always responds to an HTTP request unless something is wrong.</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="5ec774a2866141b9a9b3cdcd7772a45b"><span data-offset-key="5ec774a2866141b9a9b3cdcd7772a45b:0">The URL converted to a request</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="a10868c3323f4a368a5ff5bbed97ed7b"><span data-offset-key="a10868c3323f4a368a5ff5bbed97ed7b:0">So when a HTTP client is given a URL to operate on, that URL is then used, picked apart and those parts are used in various places in the outgoing request to the server. Let's take the an example URL:</span></span></span>

    https://www.example.com/path/to/file

- <span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="382abac5ba6a4e5180d41c9d8313d198"><span data-offset-key="382abac5ba6a4e5180d41c9d8313d198:0">**https**</span><span data-offset-key="382abac5ba6a4e5180d41c9d8313d198:1"> means that curl will use TLS to the remote port 443 (which is the default port number when no specified is used in the URL).</span></span></span>

- <span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="f7b3eda9949947d98f5cb329584a5995"><span data-offset-key="f7b3eda9949947d98f5cb329584a5995:0">**www.example.com**</span><span data-offset-key="f7b3eda9949947d98f5cb329584a5995:1"> is the host name that curl will resolve to one or more IP address to connect to. This host name will also be used in the HTTP request in the </span><span data-offset-key="f7b3eda9949947d98f5cb329584a5995:2">`Host:`</span><span data-offset-key="f7b3eda9949947d98f5cb329584a5995:3"> header.</span></span></span>

- <span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="c27068fc98764a5da325cad708d92632"><span data-offset-key="c27068fc98764a5da325cad708d92632:0">**/path/to/file**</span><span data-offset-key="c27068fc98764a5da325cad708d92632:1"> is used in the HTTP request to tell the server which exact document/resources curl wants to fetch</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="1385b8df0f394152afd880a5f1ea4983"><span data-offset-key="1385b8df0f394152afd880a5f1ea4983:0">--path-as-is</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="8b4fa36cd7104bbea2c80433c555dc23"><span data-offset-key="8b4fa36cd7104bbea2c80433c555dc23:0">The path part of the URL is the part that starts with the first slash after the host name and ends either at the end of the URL or at a '?' or '\#' (roughly speaking).</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="7d1e2c96078b4fc7bebdb929f069377d"><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:0">If you include substrings including </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:1">`/../`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:2"> or </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:3">`/./`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:4"> in the path, curl will automatically squash them before the path is sent to the server, as is dictated by standards and how such strings tend to work in local file systems. The </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:5">`/../`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:6"> sequence will remove the previous section so that </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:7">`/hello/sir/../`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:8"> ends up just </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:9">`/hello/`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:10"> and </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:11">`/./`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:12"> is simply removed so that </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:13">`/hello/./sir/`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:14"> becomes </span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:15">`/hello/sir/`</span><span data-offset-key="7d1e2c96078b4fc7bebdb929f069377d:16">.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="e3ac80f81ec941fabecab257377c4fc9"><span data-offset-key="e3ac80f81ec941fabecab257377c4fc9:0">To </span><span data-offset-key="e3ac80f81ec941fabecab257377c4fc9:1">_prevent_</span><span data-offset-key="e3ac80f81ec941fabecab257377c4fc9:2"> curl from squashing those magic sequences before they are sent to the server and thus allow them through, the </span><span data-offset-key="e3ac80f81ec941fabecab257377c4fc9:3">`--path-as-is`</span><span data-offset-key="e3ac80f81ec941fabecab257377c4fc9:4"> option exists.</span></span></span>

<a href="../http.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardPrevious-56a5e674"></a>

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Previous</span>

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">How to HTTP with curl</span>

<a href="response.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardNext-19241c42"></a>


<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">Responses</span>



<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Last updated 2 years ago</span>



<span class="text-4505230f--InfoH100-1e92e1d1--textContentFamily-49a318e1">Contents</span>

<a href="basics.html#http-protocol-basics" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">HTTP protocol basics</span></span>

<a href="basics.html#the-url-converted-to-a-request" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">The URL converted to a request</span></span>

<a href="basics.html#path-as-is" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">--path-as-is</span></span>
