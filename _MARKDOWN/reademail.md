<a href="../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>

<img src="https://gblobscdn.gitbook.com/orgs%2F-LxuH0qSm4xO9nWfEBlB%2Favatar.png?alt=media" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1--spaceNameText-677c2969">Everything curl</span>

<a href="../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>

<img src="https://gblobscdn.gitbook.com/orgs%2F-LxuH0qSm4xO9nWfEBlB%2Favatar.png?alt=media" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1--spaceNameText-677c2969">Everything curl</span>

<a href="../index.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Introduction</span></a>

<a href="../how-to-read.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to read this book</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">The cURL project</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Get curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Open Source</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">The source code</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Network and protocols</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Command line basics</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Using curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Verbose</span>

<a href="version.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Version</span></a>

<a href="persist.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Persistent connections</span></a>

<a href="downloads.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Downloads</span></a>

<a href="uploads.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Uploads</span></a>

<a href="connections.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Connections</span></a>

<a href="timeouts.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Timeouts</span></a>

<a href="netrc.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">.netrc</span></a>

<a href="proxies.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Proxies</span></a>

<a href="returns.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Exit status</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">FTP</span>

<a href="scpsftp.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">SCP and SFTP</span></a>

<a href="reademail.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca--navButtonOpened-6a88552e"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Reading email</span></a>

<a href="smtp.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Sending email</span></a>

<a href="mqtt.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">MQTT</span></a>

<a href="telnet.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">TELNET</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">TLS</span>

<a href="copyas.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Copy as curl</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to HTTP with curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl basics</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP with libcurl</span>

<a href="../bindings.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Bindings</span></a>

<a href="../internals.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl internals</span></a>

<a href="../bookindex.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f"></span></a>

<a href="https://www.gitbook.com/?utm_source=content&amp;utm_medium=trademark&amp;utm_campaign=curl-1" class="reset-3c756112--trademark-a8da4b94"></a>

<span class="text-4505230f--TextH200-a3425406--textUIFamily-5ebd8e40"></span>

# <span class="text-4505230f--DisplayH900-bfb998fa--textContentFamily-49a318e1">Reading email</span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="e1c76a74e7d44d0d82186a3aeb570799"><span data-offset-key="e1c76a74e7d44d0d82186a3aeb570799:0">There are two dominant protocols on the Internet for reading/downloading email from servers (at least if we do not count web based reading), and they are IMAP and POP3. The former being the slightly more modern alternative. curl supports both.</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="e1ca8729922147619bffcbb07cc1834e"><span data-offset-key="e1ca8729922147619bffcbb07cc1834e:0">POP3</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="0339c9761f1b4fb7add6837cdd7228d1"><span data-offset-key="0339c9761f1b4fb7add6837cdd7228d1:0">To list message numbers and sizes:</span></span></span>

    curl pop3://mail.example.com/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="42cfe6e3a0aa4037adc1fc0621c01851"><span data-offset-key="42cfe6e3a0aa4037adc1fc0621c01851:0">To download message 1:</span></span></span>

    curl pop3://mail.example.com/1

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="4bd1a0e6b3d448b6b99e77b4115b26ec"><span data-offset-key="4bd1a0e6b3d448b6b99e77b4115b26ec:0">To delete message 1:</span></span></span>

    curl --request DELE pop3://mail.example.com/1

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="f0488b041aea44deb858281b22e82b21"><span data-offset-key="f0488b041aea44deb858281b22e82b21:0">IMAP</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="ec71698dab214d33aed63e5ae160ecb5"><span data-offset-key="ec71698dab214d33aed63e5ae160ecb5:0">Get the mail using the UID 57 from mailbox 'stuff':</span></span></span>

    curl imap://server.example.com/stuff;UID=57

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="983cc58d730c41c0aa523d1860e97507"><span data-offset-key="983cc58d730c41c0aa523d1860e97507:0">Instead, get the mail with index 57 from the mailbox 'fun':</span></span></span>

    curl imap://server.example.com/fun;MAILINDEX=57

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="5c6890225eb545fe97d4bf5427097abb"><span data-offset-key="5c6890225eb545fe97d4bf5427097abb:0">List the mails in the mailbox 'boring':</span></span></span>

    curl imap://server.example.com/boring

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="7c2ecbc311de4b7ab49c09a04aa461f5"><span data-offset-key="7c2ecbc311de4b7ab49c09a04aa461f5:0">List the mails in the mailbox 'boring' and provide user and password:</span></span></span>

    curl imap://server.example.com/boring -u user:password

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="ee5531d79a5b47c1843052170418e2e8"><span data-offset-key="ee5531d79a5b47c1843052170418e2e8:0">TLS for emails</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="a0e4e399d2a747f982961ff7aba865fb"><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:0">POP3 and IMAP can both be done over a secure connection and both can be done using either explicit or implicit TLS. The "explicit" method is probably the most common approach and it means that the client connects to the server using an insecure connection and </span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:1">_upgrades_</span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:2"> it to TLS as it goes, using the </span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:3">`STARTTLS`</span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:4"> command. You tell curl to attempt this with </span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:5">`--ssl`</span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:6"> or if you want to </span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:7">_insist_</span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:8"> on a secure connection you use </span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:9">`--ssl-reqd`</span><span data-offset-key="a0e4e399d2a747f982961ff7aba865fb:10">. Like this:</span></span></span>

    curl pop3://mail.example.com/ --ssl-reqd

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="6dafd4037c7b430ab1eed09079787311"><span data-offset-key="6dafd4037c7b430ab1eed09079787311:0">or</span></span></span>

    curl --ssl imap://mail.example.com/inbox

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="32d790f873864e3c9015ed7018eaa019"><span data-offset-key="32d790f873864e3c9015ed7018eaa019:0">"Implicit" SSL means that the connection gets secured already at first connect, which you make curl attempt by specifying a scheme in the URL that uses SSL. In this case either </span><span data-offset-key="32d790f873864e3c9015ed7018eaa019:1">`pop3s://`</span><span data-offset-key="32d790f873864e3c9015ed7018eaa019:2"> or </span><span data-offset-key="32d790f873864e3c9015ed7018eaa019:3">`imaps://`</span><span data-offset-key="32d790f873864e3c9015ed7018eaa019:4">. For such connections, curl will insist on connecting and negotiating a TLS connection already from the start, or it will fail its operation.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="ee06b3655362435fa3c75a9171724ecd"><span data-offset-key="ee06b3655362435fa3c75a9171724ecd:0">The previous explicit examples done with implicit SSL:</span></span></span>

    curl pop3s://mail.example.com/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="fa3ca72cff734475acd2a2f80440eda0"><span data-offset-key="fa3ca72cff734475acd2a2f80440eda0:0">or</span></span></span>

    curl imaps://mail.example.com/inbox

<a href="scpsftp.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardPrevious-56a5e674"></a>

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Previous</span>

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">SCP and SFTP</span>

<a href="smtp.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardNext-19241c42"></a>

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Next</span>

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">Sending email</span>

<img src="https://avatars.githubusercontent.com/u/66654881?v=4" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Last updated 8 months ago</span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40"></span>

<span class="text-4505230f--InfoH100-1e92e1d1--textContentFamily-49a318e1">Contents</span>

<a href="reademail.html#pop3" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">POP3</span></span>

<a href="reademail.html#imap" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">IMAP</span></span>

<a href="reademail.html#tls-for-emails" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">TLS for emails</span></span>
