<a href="../../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>

<img src="https://gblobscdn.gitbook.com/orgs%2F-LxuH0qSm4xO9nWfEBlB%2Favatar.png?alt=media" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1--spaceNameText-677c2969">Everything curl</span>

<a href="../../index.html" class="link-a079aa82--primary-53a25e66--logoLink-10d08504"></a>

<img src="https://gblobscdn.gitbook.com/orgs%2F-LxuH0qSm4xO9nWfEBlB%2Favatar.png?alt=media" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1--spaceNameText-677c2969">Everything curl</span>

<a href="../../index.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Introduction</span></a>

<a href="../../how-to-read.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to read this book</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">The cURL project</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Get curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Open Source</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">The source code</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Network and protocols</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Command line basics</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Using curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Verbose</span>

<a href="../version.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Version</span></a>

<a href="../persist.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Persistent connections</span></a>

<a href="../downloads.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Downloads</span></a>

<a href="../uploads.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Uploads</span></a>

<a href="../connections.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Connections</span></a>

<a href="../timeouts.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Timeouts</span></a>

<a href="../netrc.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">.netrc</span></a>

<a href="../proxies.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Proxies</span></a>

<a href="../returns.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Exit status</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">FTP</span>

<a href="twoconnections.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Two connections</span></a>

<a href="traversedir.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Directory traversing</span></a>

<a href="advanced.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca--navButtonOpened-6a88552e"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Advanced FTP use</span></a>

<a href="../scpsftp.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">SCP and SFTP</span></a>

<a href="../reademail.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Reading email</span></a>

<a href="../smtp.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Sending email</span></a>

<a href="../mqtt.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">MQTT</span></a>

<a href="../telnet.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">TELNET</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">TLS</span>

<a href="../copyas.html" class="navButton-94f2579c--pageItemWithChildrenNested-2c5d8183--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Copy as curl</span></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">How to HTTP with curl</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl basics</span>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">HTTP with libcurl</span>

<a href="../../bindings.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Bindings</span></a>

<a href="../../internals.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">libcurl internals</span></a>

<a href="../../bookindex.html" class="navButton-94f2579c--navButtonClickable-161b88ca"><span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1--navButtonLabel-14a4968f">Index</span></a>

<a href="https://www.gitbook.com/?utm_source=content&amp;utm_medium=trademark&amp;utm_campaign=curl-1" class="reset-3c756112--trademark-a8da4b94"></a>

<span class="text-4505230f--TextH200-a3425406--textUIFamily-5ebd8e40">Powered by **GitBook**</span>

# <span class="text-4505230f--DisplayH900-bfb998fa--textContentFamily-49a318e1">Advanced FTP use</span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40--text-8ee2c8b2"></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="292c3d0ccd99457fa0ae0efc675fb4cb"><span data-offset-key="292c3d0ccd99457fa0ae0efc675fb4cb:0">FTP Directory listing</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="0517f91b828045879cccf61475bead27"><span data-offset-key="0517f91b828045879cccf61475bead27:0">You can list a remote FTP directory with curl by making sure the URL ends with a trailing slash. If the URL ends with a slash, curl will presume that it is a directory you want to list. If it is not actually a directory, you will most likely instead get an error.</span></span></span>

    curl ftp://ftp.example.com/directory/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="cab63d622d1a4592ad0393a2541e8aad"><span data-offset-key="cab63d622d1a4592ad0393a2541e8aad:0">With FTP there is no standard syntax for the directory output that is returned for this sort of command that uses the standard FTP command </span><span data-offset-key="cab63d622d1a4592ad0393a2541e8aad:1">`LIST`</span><span data-offset-key="cab63d622d1a4592ad0393a2541e8aad:2">. The listing is usually humanly readable and perfectly understandable but you will see that different servers will return the listing in slightly different ways.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="19d1c18bcf584fcea42c8be6c4114621"><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:0">One way to get just a listing of all the names in a directory and thus to avoid the special formatting of the regular directory listings is to tell curl to </span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:1">`--list-only`</span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:2"> (or just </span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:3">`-l`</span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:4">). curl then issues the </span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:5">`NLST`</span><span data-offset-key="19d1c18bcf584fcea42c8be6c4114621:6"> FTP command instead:</span></span></span>

    curl --list-only ftp://ftp.example.com/directory/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="4adbf011bfeb42b9a5abd49ee8d5db7f"><span data-offset-key="4adbf011bfeb42b9a5abd49ee8d5db7f:0">NLST has its own quirks though, as some FTP servers list only actual </span><span data-offset-key="4adbf011bfeb42b9a5abd49ee8d5db7f:1">_files_</span><span data-offset-key="4adbf011bfeb42b9a5abd49ee8d5db7f:2"> in their response to NLST; they do not include directories and symbolic links!</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="eec192d67d074ddbac6d5c9408ea52de"><span data-offset-key="eec192d67d074ddbac6d5c9408ea52de:0">Uploading with FTP</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="5e55153c80ed434292487842e005a1d6"><span data-offset-key="5e55153c80ed434292487842e005a1d6:0">To upload to an FTP server, you specify the entire target file path and name in the URL, and you specify the local file name to upload with </span><span data-offset-key="5e55153c80ed434292487842e005a1d6:1">`-T, --upload-file`</span><span data-offset-key="5e55153c80ed434292487842e005a1d6:2">. Optionally, you end the target URL with a slash and then the file component from the local path will be appended by curl and used as the remote file name.</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="85aae679a77a44ccaba4e2f799ab5a89"><span data-offset-key="85aae679a77a44ccaba4e2f799ab5a89:0">Like:</span></span></span>

    curl -T localfile ftp://ftp.example.com/dir/path/remote-file

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="8cbf670d71d54119844db83ed968a1ca"><span data-offset-key="8cbf670d71d54119844db83ed968a1ca:0">or to use the local file name as the remote name:</span></span></span>

    curl -T localfile ftp://ftp.example.com/dir/path/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="0d987da9d9a94c27825acf4e7b51d6dd"><span data-offset-key="0d987da9d9a94c27825acf4e7b51d6dd:0">curl also supports </span></span><a href="../../cmdline/globbing.html" class="link-a079aa82--primary-53a25e66--link-faf6c434"><span data-key="b0d587b02d954ff4847015a940b2a084"><span data-offset-key="b0d587b02d954ff4847015a940b2a084:0">globbing</span></span></a><span data-key="8de57b3a70a94bc7b1103e0a0531a45f"><span data-offset-key="8de57b3a70a94bc7b1103e0a0531a45f:0"> in the -T argument so you can opt to easily upload a range or a series of files:</span></span></span>

    curl -T 'image[1-99].jpg' ftp://ftp.example.com/upload/

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="3e9feeb0e32248d7bdf3f81721dd1e59"><span data-offset-key="3e9feeb0e32248d7bdf3f81721dd1e59:0">or</span></span></span>

    curl -T '{Huey,Dewey,Louie}.jpg' ftp://ftp.example.com/nephews/

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="26e8c122e6034c479b6701d97caf8845"><span data-offset-key="26e8c122e6034c479b6701d97caf8845:0">Custom FTP commands</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="ae2972b280784744bc47b23d806480ca"><span data-offset-key="ae2972b280784744bc47b23d806480ca:0">TBD</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="a4ee097c80d24e7d943af0d88e1de744"><span data-offset-key="a4ee097c80d24e7d943af0d88e1de744:0">FTPS</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="68244f48f1304b2d8878a12d3a5af7a3"><span data-offset-key="68244f48f1304b2d8878a12d3a5af7a3:0">TBD</span></span></span>

<span class="text-4505230f--HeadingH700-04e1a2a3--textContentFamily-49a318e1"><span data-key="f0186b14b22e49d0a4589c176fbb92f8"><span data-offset-key="f0186b14b22e49d0a4589c176fbb92f8:0">Common FTP problems</span></span></span>

<span class="text-4505230f--TextH400-3033861f--textContentFamily-49a318e1"><span data-key="0469eeca194e4d089d1e15bf8912f5fb"><span data-offset-key="0469eeca194e4d089d1e15bf8912f5fb:0">TBD</span></span></span>

<a href="traversedir.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardPrevious-56a5e674"></a>

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Previous</span>

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">Directory traversing</span>

<a href="../scpsftp.html" class="reset-3c756112--card-6570f064--whiteCard-fff091a4--cardNext-19241c42"></a>

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Next</span>

<span class="text-4505230f--UIH400-4e41e82a--textContentFamily-49a318e1">SCP and SFTP</span>

<img src="https://avatars.githubusercontent.com/u/66654881?v=4" class="image-67b14f24--avatar-1c1d03ec" />

<span class="text-4505230f--TextH200-a3425406--textContentFamily-49a318e1">Last updated 9 months ago</span>

<span class="text-4505230f--UIH300-2063425d--textUIFamily-5ebd8e40">Export as PDF</span>

<span class="text-4505230f--InfoH100-1e92e1d1--textContentFamily-49a318e1">Contents</span>

<a href="advanced.html#ftp-directory-listing" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">FTP Directory listing</span></span>

<a href="advanced.html#uploading-with-ftp" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">Uploading with FTP</span></span>

<a href="advanced.html#custom-ftp-commands" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">Custom FTP commands</span></span>

<a href="advanced.html#ftps" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">FTPS</span></span>

<a href="advanced.html#common-ftp-problems" class="reset-3c756112--menuItem-aa02f6ec--menuItemLight-757d5235--menuItemInline-173bdf97--pageTocItem-f4427024"></a>

<span class="text-4505230f--UIH300-2063425d--textContentFamily-49a318e1"><span class="text-4505230f--UIH200-50ead35f--textContentFamily-49a318e1">Common FTP problems</span></span>
